<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SkyNet: /mnt/media/Dropbox/Studium/2014 SS/01 Bachelorarbeit/workspace/SkyNet-Dongle/firmware/src/bluetooth/bluetooth.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SkyNet
   &#160;<span id="projectnumber">3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('bluetooth_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bluetooth.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains public interface to bluetooth module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="misc_8h_source.html">../misc/misc.h</a>&quot;</code><br/>
</div>
<p><a href="bluetooth_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae72995adf7a0dc445598419d3fef0104"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#ae72995adf7a0dc445598419d3fef0104">BLUETOOTH_UART_INT_MASK</a>&#160;&#160;&#160;(UART_IER_RBRINT)</td></tr>
<tr class="memdesc:ae72995adf7a0dc445598419d3fef0104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bluetooth enabled interrupt mask.  <a href="#ae72995adf7a0dc445598419d3fef0104">More...</a><br/></td></tr>
<tr class="separator:ae72995adf7a0dc445598419d3fef0104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45299c86d563bf029f922d77d84f9cb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a45299c86d563bf029f922d77d84f9cb5">BLUETOOTH_AT_PRESWITCH_DELAY</a>&#160;&#160;&#160;(100)</td></tr>
<tr class="memdesc:a45299c86d563bf029f922d77d84f9cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Milliseconds waited <b>before</b> a AT/data mode switch is performed.  <a href="#a45299c86d563bf029f922d77d84f9cb5">More...</a><br/></td></tr>
<tr class="separator:a45299c86d563bf029f922d77d84f9cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83281a6704abf3f305d4dcbe1619f9ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a83281a6704abf3f305d4dcbe1619f9ca">BLUETOOTH_AT_POSTSWITCH_DELAY</a>&#160;&#160;&#160;(250)</td></tr>
<tr class="memdesc:a83281a6704abf3f305d4dcbe1619f9ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Milliseconds waited <b>after</b> a AT/data mode switch is performed.  <a href="#a83281a6704abf3f305d4dcbe1619f9ca">More...</a><br/></td></tr>
<tr class="separator:a83281a6704abf3f305d4dcbe1619f9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78cfdd1287d891732aa5fbd7789b9437"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a78cfdd1287d891732aa5fbd7789b9437">BLUETOOTH_BEFORE_SHUTDOWN_DELAY</a>&#160;&#160;&#160;(100)</td></tr>
<tr class="memdesc:a78cfdd1287d891732aa5fbd7789b9437"><td class="mdescLeft">&#160;</td><td class="mdescRight">Milliseconds waited <b>before</b> module is shut down.  <a href="#a78cfdd1287d891732aa5fbd7789b9437">More...</a><br/></td></tr>
<tr class="separator:a78cfdd1287d891732aa5fbd7789b9437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7446b141c358e7c230c0ce07b470daac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a7446b141c358e7c230c0ce07b470daac">BLUETOOTH_AFTER_SHUTDOWN_DELAY</a>&#160;&#160;&#160;(1500)</td></tr>
<tr class="memdesc:a7446b141c358e7c230c0ce07b470daac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Milliseconds waited <b>after</b> module is shut down.  <a href="#a7446b141c358e7c230c0ce07b470daac">More...</a><br/></td></tr>
<tr class="separator:a7446b141c358e7c230c0ce07b470daac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6215f573826cc75a9b877e4a9bb2528c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a6215f573826cc75a9b877e4a9bb2528c">BLUETOOTH_AFTER_WAKEUP_DELAY</a>&#160;&#160;&#160;(1500)</td></tr>
<tr class="memdesc:a6215f573826cc75a9b877e4a9bb2528c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Milliseconds waited <b>after</b> module is woken up.  <a href="#a6215f573826cc75a9b877e4a9bb2528c">More...</a><br/></td></tr>
<tr class="separator:a6215f573826cc75a9b877e4a9bb2528c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95dca38c9f304e9f71498df645b1123"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#af95dca38c9f304e9f71498df645b1123">bt_uart_puts_P</a>&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a544b29f91865849565c633a64b9cd547">bt_uart_puts</a></td></tr>
<tr class="separator:af95dca38c9f304e9f71498df645b1123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7d549219039f34a862854bda0daf24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a4c7d549219039f34a862854bda0daf24">BLUETOOTH_AT_ANSWER</a>&#160;&#160;&#160;(&quot;OK\r\n&quot;)</td></tr>
<tr class="separator:a4c7d549219039f34a862854bda0daf24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1faff61bb6eb5bd456b399a349f15ddb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a1faff61bb6eb5bd456b399a349f15ddb">BLUETOOTH_NAME_ANSWER_PRE</a>&#160;&#160;&#160;&quot;+NAME:&quot;</td></tr>
<tr class="separator:a1faff61bb6eb5bd456b399a349f15ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347dc623381b37ab1bc3fc5a11459ca4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a347dc623381b37ab1bc3fc5a11459ca4">BLUETOOTH_NAME_ANSWER_POST</a>&#160;&#160;&#160;&quot;\r\n&quot;</td></tr>
<tr class="separator:a347dc623381b37ab1bc3fc5a11459ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84d2bbec1e89f2c1b36977ae1dcd4b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#af84d2bbec1e89f2c1b36977ae1dcd4b5">BLUETOOTH_NAME_ANSWER</a>&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a1faff61bb6eb5bd456b399a349f15ddb">BLUETOOTH_NAME_ANSWER_PRE</a> <a class="el" href="misc_8h.html#ab2bbaf41bc6f4874dad69aed2df0d7eb">BLUETOOTH_DEVICE_NAME</a> <a class="el" href="bluetooth_8h.html#a347dc623381b37ab1bc3fc5a11459ca4">BLUETOOTH_NAME_ANSWER_POST</a></td></tr>
<tr class="separator:af84d2bbec1e89f2c1b36977ae1dcd4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c283bc909624cb10493e339697177eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a0c283bc909624cb10493e339697177eb">BLUETOOTH_SETNAME_PRE</a>&#160;&#160;&#160;&quot;AT+NAME:&quot;</td></tr>
<tr class="separator:a0c283bc909624cb10493e339697177eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f9b473c53e9b0d513a52c314b660d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a34f9b473c53e9b0d513a52c314b660d4">BLUETOOTH_SETNAME_POST</a>&#160;&#160;&#160;&quot;\r\n&quot;</td></tr>
<tr class="separator:a34f9b473c53e9b0d513a52c314b660d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17472b05bb574ccb13dd4e815053f589"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a17472b05bb574ccb13dd4e815053f589">BLUETOOTH_SETNAME</a>&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a0c283bc909624cb10493e339697177eb">BLUETOOTH_SETNAME_PRE</a> <a class="el" href="misc_8h.html#ab2bbaf41bc6f4874dad69aed2df0d7eb">BLUETOOTH_DEVICE_NAME</a> <a class="el" href="bluetooth_8h.html#a34f9b473c53e9b0d513a52c314b660d4">BLUETOOTH_SETNAME_POST</a></td></tr>
<tr class="separator:a17472b05bb574ccb13dd4e815053f589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5409d866dcd39b6f00da1ce85e34fcd0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a5409d866dcd39b6f00da1ce85e34fcd0">BLUETOOTH_SETPIN_PRE</a>&#160;&#160;&#160;&quot;AT+PSWD:&quot;</td></tr>
<tr class="separator:a5409d866dcd39b6f00da1ce85e34fcd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6532a8ac2fb0b8ab06f0c09ed8c287c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#ac6532a8ac2fb0b8ab06f0c09ed8c287c">BLUETOOTH_SETPIN_POST</a>&#160;&#160;&#160;&quot;\r\n&quot;</td></tr>
<tr class="separator:ac6532a8ac2fb0b8ab06f0c09ed8c287c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c585af63233e153d2b09d8624fc41bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a5c585af63233e153d2b09d8624fc41bd">BLUETOOTH_SETPIN</a>&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a5409d866dcd39b6f00da1ce85e34fcd0">BLUETOOTH_SETPIN_PRE</a> <a class="el" href="misc_8h.html#a09cec772bf0ac37a723fb39bcc159b19">BLUETOOTH_DEVICE_PIN</a> <a class="el" href="bluetooth_8h.html#ac6532a8ac2fb0b8ab06f0c09ed8c287c">BLUETOOTH_SETPIN_POST</a></td></tr>
<tr class="separator:a5c585af63233e153d2b09d8624fc41bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac947a3fcc9600dc725a1b1558e6955bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#ac947a3fcc9600dc725a1b1558e6955bd">bt_init</a> (void)</td></tr>
<tr class="memdesc:ac947a3fcc9600dc725a1b1558e6955bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes chip pins and UART.  <a href="#ac947a3fcc9600dc725a1b1558e6955bd">More...</a><br/></td></tr>
<tr class="separator:ac947a3fcc9600dc725a1b1558e6955bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5d1b889ecedbed0a5c775d15a4caca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a5b5d1b889ecedbed0a5c775d15a4caca">bt_uart_init</a> (uint32_t baud)</td></tr>
<tr class="memdesc:a5b5d1b889ecedbed0a5c775d15a4caca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize UART with specified speed.  <a href="#a5b5d1b889ecedbed0a5c775d15a4caca">More...</a><br/></td></tr>
<tr class="separator:a5b5d1b889ecedbed0a5c775d15a4caca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94fb1607d858115b64003fe32bcf7aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#ad94fb1607d858115b64003fe32bcf7aa">bt_uart_set_speed</a> (uint32_t baud)</td></tr>
<tr class="memdesc:ad94fb1607d858115b64003fe32bcf7aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set UART to specified speed.  <a href="#ad94fb1607d858115b64003fe32bcf7aa">More...</a><br/></td></tr>
<tr class="separator:ad94fb1607d858115b64003fe32bcf7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ffc1f9d0a91bd783a34ab90bde067c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#aa5ffc1f9d0a91bd783a34ab90bde067c">bt_uart_deinit</a> (void)</td></tr>
<tr class="memdesc:aa5ffc1f9d0a91bd783a34ab90bde067c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the bluetooth UART.  <a href="#aa5ffc1f9d0a91bd783a34ab90bde067c">More...</a><br/></td></tr>
<tr class="separator:aa5ffc1f9d0a91bd783a34ab90bde067c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c52e1b9ed574433b942617e991143bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a3c52e1b9ed574433b942617e991143bb">bt_first_configuration</a> (void)</td></tr>
<tr class="memdesc:a3c52e1b9ed574433b942617e991143bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if bluetooth module works at full speed.  <a href="#a3c52e1b9ed574433b942617e991143bb">More...</a><br/></td></tr>
<tr class="separator:a3c52e1b9ed574433b942617e991143bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a79a9ea6b38aa89856e702fa27fe6c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a4a79a9ea6b38aa89856e702fa27fe6c8">bt_deinit</a> (void)</td></tr>
<tr class="memdesc:a4a79a9ea6b38aa89856e702fa27fe6c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes chip pins and UART.  <a href="#a4a79a9ea6b38aa89856e702fa27fe6c8">More...</a><br/></td></tr>
<tr class="separator:a4a79a9ea6b38aa89856e702fa27fe6c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80063cc6adc26b6c2cd3ecca203030f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#ac80063cc6adc26b6c2cd3ecca203030f">bt_reset</a> (void)</td></tr>
<tr class="memdesc:ac80063cc6adc26b6c2cd3ecca203030f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the bluetooth module by sending AT+RESET\r\n.  <a href="#ac80063cc6adc26b6c2cd3ecca203030f">More...</a><br/></td></tr>
<tr class="separator:ac80063cc6adc26b6c2cd3ecca203030f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610992f3e62b7753a0559ea1dda74978"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a610992f3e62b7753a0559ea1dda74978">bt_hardreset</a> (void)</td></tr>
<tr class="memdesc:a610992f3e62b7753a0559ea1dda74978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the bluetooth module by pulling RESET <b>low</b>.  <a href="#a610992f3e62b7753a0559ea1dda74978">More...</a><br/></td></tr>
<tr class="separator:a610992f3e62b7753a0559ea1dda74978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412f0334ebbffcaf6cda17e85904c2dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a412f0334ebbffcaf6cda17e85904c2dc">bt_softreset</a> (void)</td></tr>
<tr class="memdesc:a412f0334ebbffcaf6cda17e85904c2dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the bluetooth module by sending AT+RESET\r\n.  <a href="#a412f0334ebbffcaf6cda17e85904c2dc">More...</a><br/></td></tr>
<tr class="separator:a412f0334ebbffcaf6cda17e85904c2dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08428462f33444d7de6606d0b6de3205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a08428462f33444d7de6606d0b6de3205">bt_uart_int_enable</a> (void)</td></tr>
<tr class="memdesc:a08428462f33444d7de6606d0b6de3205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers and enables UART interrupt.  <a href="#a08428462f33444d7de6606d0b6de3205">More...</a><br/></td></tr>
<tr class="separator:a08428462f33444d7de6606d0b6de3205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3275aea342a1d77e41c11c9dfc679dbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a3275aea342a1d77e41c11c9dfc679dbf">bt_uart_int_disable</a> (void)</td></tr>
<tr class="memdesc:a3275aea342a1d77e41c11c9dfc679dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables UART interrupt.  <a href="#a3275aea342a1d77e41c11c9dfc679dbf">More...</a><br/></td></tr>
<tr class="separator:a3275aea342a1d77e41c11c9dfc679dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b628a3e94d821b676d6a05ed45a5c02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a1b628a3e94d821b676d6a05ed45a5c02">bt_enable_AT_mode</a> (void)</td></tr>
<tr class="memdesc:a1b628a3e94d821b676d6a05ed45a5c02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take bluetooth module into AT command mode.  <a href="#a1b628a3e94d821b676d6a05ed45a5c02">More...</a><br/></td></tr>
<tr class="separator:a1b628a3e94d821b676d6a05ed45a5c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3be01418c73a6714e482f620564a030"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#aa3be01418c73a6714e482f620564a030">bt_disable_AT_mode</a> (void)</td></tr>
<tr class="memdesc:aa3be01418c73a6714e482f620564a030"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop AT command mode and enable data transmission.  <a href="#aa3be01418c73a6714e482f620564a030">More...</a><br/></td></tr>
<tr class="separator:aa3be01418c73a6714e482f620564a030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7100fb5d6c80fe9ee72ca80fccacf977"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a7100fb5d6c80fe9ee72ca80fccacf977">bt_shutdown</a> (void)</td></tr>
<tr class="memdesc:a7100fb5d6c80fe9ee72ca80fccacf977"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown bluetooth module by pulling RESET.  <a href="#a7100fb5d6c80fe9ee72ca80fccacf977">More...</a><br/></td></tr>
<tr class="separator:a7100fb5d6c80fe9ee72ca80fccacf977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57728073916b2bcbebc96a61626fc7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#ad57728073916b2bcbebc96a61626fc7f">bt_wakeup</a> (void)</td></tr>
<tr class="memdesc:ad57728073916b2bcbebc96a61626fc7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up bluetooth module by stop pulling RESET.  <a href="#ad57728073916b2bcbebc96a61626fc7f">More...</a><br/></td></tr>
<tr class="separator:ad57728073916b2bcbebc96a61626fc7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb7f9b1e0cdf471b8c5664541704895"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a0fb7f9b1e0cdf471b8c5664541704895">bt_make_visible</a> (void)</td></tr>
<tr class="memdesc:a0fb7f9b1e0cdf471b8c5664541704895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send's the AT command to make the bluetooth module visible to clients.  <a href="#a0fb7f9b1e0cdf471b8c5664541704895">More...</a><br/></td></tr>
<tr class="separator:a0fb7f9b1e0cdf471b8c5664541704895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fee1cf24ab602e5c7da020b7a31b1ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a4fee1cf24ab602e5c7da020b7a31b1ad">bt_make_invisible</a> (void)</td></tr>
<tr class="memdesc:a4fee1cf24ab602e5c7da020b7a31b1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send's the AT command to make the bluetooth module invisible to clients.  <a href="#a4fee1cf24ab602e5c7da020b7a31b1ad">More...</a><br/></td></tr>
<tr class="separator:a4fee1cf24ab602e5c7da020b7a31b1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107e9e0fd29cd91e5d802e4b7b756fca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a107e9e0fd29cd91e5d802e4b7b756fca">bt_change_visible</a> (bool visible)</td></tr>
<tr class="memdesc:a107e9e0fd29cd91e5d802e4b7b756fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the module visible or invisible to clients.  <a href="#a107e9e0fd29cd91e5d802e4b7b756fca">More...</a><br/></td></tr>
<tr class="separator:a107e9e0fd29cd91e5d802e4b7b756fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544b29f91865849565c633a64b9cd547"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a544b29f91865849565c633a64b9cd547">bt_uart_puts</a> (char *str)</td></tr>
<tr class="memdesc:a544b29f91865849565c633a64b9cd547"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print null-terminated string to UART.  <a href="#a544b29f91865849565c633a64b9cd547">More...</a><br/></td></tr>
<tr class="separator:a544b29f91865849565c633a64b9cd547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815ab145841b249fbc5792df7c972e0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a815ab145841b249fbc5792df7c972e0b">bt_uart_nputs</a> (char *str, int count)</td></tr>
<tr class="memdesc:a815ab145841b249fbc5792df7c972e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print count characters from str to UART.  <a href="#a815ab145841b249fbc5792df7c972e0b">More...</a><br/></td></tr>
<tr class="separator:a815ab145841b249fbc5792df7c972e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ace23a43564315b0fd7c217f53711a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a69ace23a43564315b0fd7c217f53711a">bt_uart_putc</a> (char chr)</td></tr>
<tr class="memdesc:a69ace23a43564315b0fd7c217f53711a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print single character to UART.  <a href="#a69ace23a43564315b0fd7c217f53711a">More...</a><br/></td></tr>
<tr class="separator:a69ace23a43564315b0fd7c217f53711a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac82196ee18325f42b6f59498abe61000"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#ac82196ee18325f42b6f59498abe61000">bt_switch_at_pin</a> (bool state)</td></tr>
<tr class="memdesc:ac82196ee18325f42b6f59498abe61000"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that toggles the AT pin.  <a href="#ac82196ee18325f42b6f59498abe61000">More...</a><br/></td></tr>
<tr class="separator:ac82196ee18325f42b6f59498abe61000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88abe7209672b6897e56a4873be88200"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a88abe7209672b6897e56a4873be88200">bt_switch_reset_pin</a> (bool state)</td></tr>
<tr class="memdesc:a88abe7209672b6897e56a4873be88200"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that toggles the RESET pin.  <a href="#a88abe7209672b6897e56a4873be88200">More...</a><br/></td></tr>
<tr class="separator:a88abe7209672b6897e56a4873be88200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f129965d8454cf5c6fd65e8751f6ced"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a6f129965d8454cf5c6fd65e8751f6ced">bt_uart_clear_rx</a> (void)</td></tr>
<tr class="memdesc:a6f129965d8454cf5c6fd65e8751f6ced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the RX buffer removing all remaining bytes.  <a href="#a6f129965d8454cf5c6fd65e8751f6ced">More...</a><br/></td></tr>
<tr class="separator:a6f129965d8454cf5c6fd65e8751f6ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1329c7af78ca79e772f26adbdaded43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#aa1329c7af78ca79e772f26adbdaded43">bt_request</a> (char request[], char response[])</td></tr>
<tr class="memdesc:aa1329c7af78ca79e772f26adbdaded43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a command to BT module without raising RX interrupt.  <a href="#aa1329c7af78ca79e772f26adbdaded43">More...</a><br/></td></tr>
<tr class="separator:aa1329c7af78ca79e772f26adbdaded43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2a63af2ce1cb785e3297acdb39e3d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a3b2a63af2ce1cb785e3297acdb39e3d0">bt_at_mode_active</a> (void)</td></tr>
<tr class="memdesc:a3b2a63af2ce1cb785e3297acdb39e3d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if module is in AT command mode.  <a href="#a3b2a63af2ce1cb785e3297acdb39e3d0">More...</a><br/></td></tr>
<tr class="separator:a3b2a63af2ce1cb785e3297acdb39e3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11368a3edf1ce91af0dbd3466f5413e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a11368a3edf1ce91af0dbd3466f5413e7">bt_is_connected</a> (void)</td></tr>
<tr class="memdesc:a11368a3edf1ce91af0dbd3466f5413e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if module is paired and connected.  <a href="#a11368a3edf1ce91af0dbd3466f5413e7">More...</a><br/></td></tr>
<tr class="separator:a11368a3edf1ce91af0dbd3466f5413e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0164102f5b9d71864aa1a871e9e0b48c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a0164102f5b9d71864aa1a871e9e0b48c">bt_do_read</a> (int len, char *data)</td></tr>
<tr class="separator:a0164102f5b9d71864aa1a871e9e0b48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa36f4b2af3fd2ed6ebb848a098c5991e"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#aa36f4b2af3fd2ed6ebb848a098c5991e">bt_packet_rx_buf</a> [<a class="el" href="misc_8h.html#a740724cdf362d35ad6f5a0c10483496e">BLUETOOTH_BUFFER_SIZE</a>+1]</td></tr>
<tr class="memdesc:aa36f4b2af3fd2ed6ebb848a098c5991e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet reception buffer for bluetooth.  <a href="#aa36f4b2af3fd2ed6ebb848a098c5991e">More...</a><br/></td></tr>
<tr class="separator:aa36f4b2af3fd2ed6ebb848a098c5991e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61eda821d0ca4d9d260617ba94ab58a5"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bluetooth_8h.html#a61eda821d0ca4d9d260617ba94ab58a5">bt_packet_rx_buf_written</a></td></tr>
<tr class="memdesc:a61eda821d0ca4d9d260617ba94ab58a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount of bytes read from bluetooth last time.  <a href="#a61eda821d0ca4d9d260617ba94ab58a5">More...</a><br/></td></tr>
<tr class="separator:a61eda821d0ca4d9d260617ba94ab58a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains public interface to bluetooth module. </p>
<dl class="section date"><dt>Date</dt><dd>25.04.2014 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Michael Zapf <a href="#" onclick="location.href='mai'+'lto:'+'mic'+'ha'+'el.'+'za'+'pf@'+'fa'+'u.d'+'e'; return false;">micha<span style="display: none;">.nosp@m.</span>el.z<span style="display: none;">.nosp@m.</span>apf@f<span style="display: none;">.nosp@m.</span>au.d<span style="display: none;">.nosp@m.</span>e</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a7446b141c358e7c230c0ce07b470daac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_AFTER_SHUTDOWN_DELAY&#160;&#160;&#160;(1500)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Milliseconds waited <b>after</b> module is shut down. </p>
<p>Assure that module is fully shutdown and all registers are empty to provide a fully clean startup next time (that can be possibly right <b>now</b> after the post-shutdown delay). </p>

</div>
</div>
<a class="anchor" id="a6215f573826cc75a9b877e4a9bb2528c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_AFTER_WAKEUP_DELAY&#160;&#160;&#160;(1500)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Milliseconds waited <b>after</b> module is woken up. </p>
<p>Assure that module is fully up and running, for example to transmit data or to execute an AT command. </p>

</div>
</div>
<a class="anchor" id="a4c7d549219039f34a862854bda0daf24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_AT_ANSWER&#160;&#160;&#160;(&quot;OK\r\n&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a83281a6704abf3f305d4dcbe1619f9ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_AT_POSTSWITCH_DELAY&#160;&#160;&#160;(250)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Milliseconds waited <b>after</b> a AT/data mode switch is performed. </p>

</div>
</div>
<a class="anchor" id="a45299c86d563bf029f922d77d84f9cb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_AT_PRESWITCH_DELAY&#160;&#160;&#160;(100)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Milliseconds waited <b>before</b> a AT/data mode switch is performed. </p>

</div>
</div>
<a class="anchor" id="a78cfdd1287d891732aa5fbd7789b9437"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_BEFORE_SHUTDOWN_DELAY&#160;&#160;&#160;(100)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Milliseconds waited <b>before</b> module is shut down. </p>
<p>Needed to assure that all previously sent commands are executed and all previously sent data is processed/transferred. </p>

</div>
</div>
<a class="anchor" id="af84d2bbec1e89f2c1b36977ae1dcd4b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_NAME_ANSWER&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a1faff61bb6eb5bd456b399a349f15ddb">BLUETOOTH_NAME_ANSWER_PRE</a> <a class="el" href="misc_8h.html#ab2bbaf41bc6f4874dad69aed2df0d7eb">BLUETOOTH_DEVICE_NAME</a> <a class="el" href="bluetooth_8h.html#a347dc623381b37ab1bc3fc5a11459ca4">BLUETOOTH_NAME_ANSWER_POST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a347dc623381b37ab1bc3fc5a11459ca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_NAME_ANSWER_POST&#160;&#160;&#160;&quot;\r\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1faff61bb6eb5bd456b399a349f15ddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_NAME_ANSWER_PRE&#160;&#160;&#160;&quot;+NAME:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a17472b05bb574ccb13dd4e815053f589"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_SETNAME&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a0c283bc909624cb10493e339697177eb">BLUETOOTH_SETNAME_PRE</a> <a class="el" href="misc_8h.html#ab2bbaf41bc6f4874dad69aed2df0d7eb">BLUETOOTH_DEVICE_NAME</a> <a class="el" href="bluetooth_8h.html#a34f9b473c53e9b0d513a52c314b660d4">BLUETOOTH_SETNAME_POST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a34f9b473c53e9b0d513a52c314b660d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_SETNAME_POST&#160;&#160;&#160;&quot;\r\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0c283bc909624cb10493e339697177eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_SETNAME_PRE&#160;&#160;&#160;&quot;AT+NAME:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c585af63233e153d2b09d8624fc41bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_SETPIN&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a5409d866dcd39b6f00da1ce85e34fcd0">BLUETOOTH_SETPIN_PRE</a> <a class="el" href="misc_8h.html#a09cec772bf0ac37a723fb39bcc159b19">BLUETOOTH_DEVICE_PIN</a> <a class="el" href="bluetooth_8h.html#ac6532a8ac2fb0b8ab06f0c09ed8c287c">BLUETOOTH_SETPIN_POST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac6532a8ac2fb0b8ab06f0c09ed8c287c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_SETPIN_POST&#160;&#160;&#160;&quot;\r\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5409d866dcd39b6f00da1ce85e34fcd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_SETPIN_PRE&#160;&#160;&#160;&quot;AT+PSWD:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae72995adf7a0dc445598419d3fef0104"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLUETOOTH_UART_INT_MASK&#160;&#160;&#160;(UART_IER_RBRINT)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bluetooth enabled interrupt mask. </p>
<p><b>UART_IER_RBRINT</b> for Data Interrupts <b>UART_IER_RLSINT</b> for Line Status Interrupts</p>
<p>for example to enable both: UART_IER_RBRINT | UART_IER_RLSINT </p>

</div>
</div>
<a class="anchor" id="af95dca38c9f304e9f71498df645b1123"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define bt_uart_puts_P&#160;&#160;&#160;<a class="el" href="bluetooth_8h.html#a544b29f91865849565c633a64b9cd547">bt_uart_puts</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3b2a63af2ce1cb785e3297acdb39e3d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bt_at_mode_active </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if module is in AT command mode. </p>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> for AT mode, <b>false</b> for transparent data mode </dd></dl>

</div>
</div>
<a class="anchor" id="a107e9e0fd29cd91e5d802e4b7b756fca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_change_visible </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>visible</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes the module visible or invisible to clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">visible</td><td><b>true</b> for visible, <b>false</b> for invisible </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4a79a9ea6b38aa89856e702fa27fe6c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitializes chip pins and UART. </p>
<dl class="section note"><dt>Note</dt><dd>This also calls <a class="el" href="bluetooth_8h.html#a3275aea342a1d77e41c11c9dfc679dbf" title="Disables UART interrupt. ">bt_uart_int_disable()</a> . </dd></dl>

</div>
</div>
<a class="anchor" id="aa3be01418c73a6714e482f620564a030"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_disable_AT_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop AT command mode and enable data transmission. </p>
<p>This pulls the AT pin <b>low</b> and sends AT+RESET\r\n. Without soft reset HC-06 does not leave AT mode. </p>

</div>
</div>
<a class="anchor" id="a0164102f5b9d71864aa1a871e9e0b48c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_do_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1b628a3e94d821b676d6a05ed45a5c02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_enable_AT_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take bluetooth module into AT command mode. </p>

</div>
</div>
<a class="anchor" id="a3c52e1b9ed574433b942617e991143bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_first_configuration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if bluetooth module works at full speed. </p>
<p>If not, start initial configuration routine and configure bluetooth module to work with a baud rate if 115200. </p>

</div>
</div>
<a class="anchor" id="a610992f3e62b7753a0559ea1dda74978"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_hardreset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the bluetooth module by pulling RESET <b>low</b>. </p>

</div>
</div>
<a class="anchor" id="ac947a3fcc9600dc725a1b1558e6955bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes chip pins and UART. </p>

</div>
</div>
<a class="anchor" id="a11368a3edf1ce91af0dbd3466f5413e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bt_is_connected </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if module is paired and connected. </p>
<dl class="section return"><dt>Returns</dt><dd><b>true</b> if connected, <b>false</b> otherwise</dd></dl>
<p>This is useful to check if a variometer / device is connected. If not, there should be no need to listen for radio packets. </p>

</div>
</div>
<a class="anchor" id="a4fee1cf24ab602e5c7da020b7a31b1ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_make_invisible </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send's the AT command to make the bluetooth module invisible to clients. </p>

</div>
</div>
<a class="anchor" id="a0fb7f9b1e0cdf471b8c5664541704895"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_make_visible </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send's the AT command to make the bluetooth module visible to clients. </p>

</div>
</div>
<a class="anchor" id="aa1329c7af78ca79e772f26adbdaded43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bt_request </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>request</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>response</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a command to BT module without raising RX interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request string, null-terminated string. </td></tr>
    <tr><td class="paramname">response</td><td>Buffer answer will be written to.</td></tr>
  </table>
  </dd>
</dl>
<p>Disables the UART interrupt to receiving an answer from BT module blocking. Only the first line of the answer is written into <b>request</b>. After answer is received interrupt is enabled.</p>
<p>This method does <b>not</b> activate and deactivate AT mode! </p>

</div>
</div>
<a class="anchor" id="ac80063cc6adc26b6c2cd3ecca203030f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the bluetooth module by sending AT+RESET\r\n. </p>

</div>
</div>
<a class="anchor" id="a7100fb5d6c80fe9ee72ca80fccacf977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown bluetooth module by pulling RESET. </p>

</div>
</div>
<a class="anchor" id="a412f0334ebbffcaf6cda17e85904c2dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_softreset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the bluetooth module by sending AT+RESET\r\n. </p>

</div>
</div>
<a class="anchor" id="ac82196ee18325f42b6f59498abe61000"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_switch_at_pin </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function that toggles the AT pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td><b>true</b> for AT mode, <b>false</b> for data mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a88abe7209672b6897e56a4873be88200"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_switch_reset_pin </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function that toggles the RESET pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td><b>true</b> for RESET, <b>false</b> for normal operation</td></tr>
  </table>
  </dd>
</dl>
<p>If RESET is set, bluetooth module sleeps with nearly no current consumption. </p>

</div>
</div>
<a class="anchor" id="a6f129965d8454cf5c6fd65e8751f6ced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_clear_rx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the RX buffer removing all remaining bytes. </p>

</div>
</div>
<a class="anchor" id="aa5ffc1f9d0a91bd783a34ab90bde067c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitializes the bluetooth UART. </p>

</div>
</div>
<a class="anchor" id="a5b5d1b889ecedbed0a5c775d15a4caca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baud</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize UART with specified speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baud</td><td>Baud rate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3275aea342a1d77e41c11c9dfc679dbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_int_disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables UART interrupt. </p>

</div>
</div>
<a class="anchor" id="a08428462f33444d7de6606d0b6de3205"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_int_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers and enables UART interrupt. </p>

</div>
</div>
<a class="anchor" id="a815ab145841b249fbc5792df7c972e0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_nputs </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print count characters from str to UART. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>char array, needs not to be terminated </td></tr>
    <tr><td class="paramname">count</td><td>number of characters from str</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Be aware of buffer overflows! </dd></dl>

</div>
</div>
<a class="anchor" id="a69ace23a43564315b0fd7c217f53711a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_putc </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>chr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print single character to UART. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chr</td><td>Character to print to UART. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a544b29f91865849565c633a64b9cd547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_puts </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print null-terminated string to UART. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>null-terminated string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad94fb1607d858115b64003fe32bcf7aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_uart_set_speed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baud</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set UART to specified speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baud</td><td>Baud rate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad57728073916b2bcbebc96a61626fc7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_wakeup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up bluetooth module by stop pulling RESET. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa36f4b2af3fd2ed6ebb848a098c5991e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char bt_packet_rx_buf[<a class="el" href="misc_8h.html#a740724cdf362d35ad6f5a0c10483496e">BLUETOOTH_BUFFER_SIZE</a>+1]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Packet reception buffer for bluetooth. </p>

</div>
</div>
<a class="anchor" id="a61eda821d0ca4d9d260617ba94ab58a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_packet_rx_buf_written</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Amount of bytes read from bluetooth last time. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9456d314721974b1e76758f2d751e12f.html">bluetooth</a></li><li class="navelem"><a class="el" href="bluetooth_8h.html">bluetooth.h</a></li>
    <li class="footer">Generated on Sat Feb 7 2015 21:24:21 for SkyNet by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
